{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\garia\\\\Documents\\\\GitHub\\\\JD-LSM\\\\React Approach\\\\LSM-app\\\\src\\\\components\\\\ImageSelectPopUp.js\";\nimport React, { Component } from 'react';\nimport \"../components/ImageSelectPopUp.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ImageSelectPopUp extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isActive: this.props.isActive,\n      images: this.props.images,\n      updateIsActive: this.props.updateIsActive\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    console.log(\"updated\");\n\n    if (prevProps.isActive !== this.props.isActive) {\n      this.setState({\n        isActive: !this.props.isActive\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.isActive && /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \" popUpGlass col-12 col-12 col-md-7 centered \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popUp--content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popUp--title\",\n            children: \"Selecciona una imagen\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-container--img-popup popUp--images row\",\n            children: this.state.images.map((image, index) => /*#__PURE__*/_jsxDEV(Img, {\n              src: image,\n              fun: this.state.updateIsActive,\n              alt: \"\"\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 70\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button button--primary popUp--button\",\n            onClick: this.state.updateIsActive,\n            children: \" Cerrar \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nclass Img extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fun: this.props.fun\n    };\n    this.setUserImg = this.setUserImg.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      isSelected: this.props.isActive\n    });\n  }\n\n  async setUserImg() {\n    const user = JSON.parse(sessionStorage.getItem('userData')); //console.log(\"user:\",user);\n\n    const data = {\n      username: user.username,\n      img: this.props.src\n    }; //console.log(\"data\",data);\n    //console.log(\"stringified:\",JSON.stringify(data));\n\n    const opciones = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }; // Envía req\n\n    const response = await fetch(\"http://localhost:5000/updateImg\", opciones); //console.log(\"response: \",response);\n    //Close popUp\n\n    this.state.fun();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: ` ${this.state.isSelected ? 'popUp--image-is-selected' : 'popUp--image-is-unselected'} centered popUpCircularMask`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"popUp-image\",\n        src: this.props.src,\n        onClick: this.setUserImg,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ImageSelectPopUp;","map":{"version":3,"names":["React","Component","ImageSelectPopUp","constructor","props","state","isActive","images","updateIsActive","componentDidUpdate","prevProps","console","log","setState","render","map","image","index","Img","fun","setUserImg","bind","componentDidMount","isSelected","user","JSON","parse","sessionStorage","getItem","data","username","img","src","opciones","method","headers","body","stringify","response","fetch"],"sources":["C:/Users/garia/Documents/GitHub/JD-LSM/React Approach/LSM-app/src/components/ImageSelectPopUp.js"],"sourcesContent":["import React, { Component} from 'react';\r\nimport \"../components/ImageSelectPopUp.scss\";\r\n\r\n\r\nclass ImageSelectPopUp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isActive: this.props.isActive,\r\n            images: this.props.images,\r\n            updateIsActive : this.props.updateIsActive,\r\n            \r\n        }\r\n    }\r\n    \r\n    componentDidUpdate(prevProps) {\r\n        console.log(\"updated\");\r\n        if (prevProps.isActive !== this.props.isActive) {\r\n            this.setState({\r\n                isActive: !this.props.isActive,\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            \r\n            <div>\r\n                {this.state.isActive &&\r\n                <section className=\" popUpGlass col-12 col-12 col-md-7 centered \">\r\n                    <div className=\"popUp--content\">\r\n                        <div className=\"popUp--title\">\r\n                            Selecciona una imagen\r\n                        </div>\r\n                        <div className=\"flex-container--img-popup popUp--images row\">\r\n                            {this.state.images.map((image, index) => <Img key={index} src={image} fun = {this.state.updateIsActive} alt=\"\"/>)}\r\n                        </div>\r\n                        <button className=\"button button--primary popUp--button\" onClick={this.state.updateIsActive}> Cerrar </button>\r\n                    </div>\r\n                    \r\n                </section>}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nclass Img extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            fun: this.props.fun,\r\n        }\r\n        this.setUserImg = this.setUserImg.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        this.setState({\r\n            isSelected: this.props.isActive,\r\n        })\r\n    }\r\n    async setUserImg () {\r\n\r\n        const user = JSON.parse(sessionStorage.getItem('userData'));\r\n        //console.log(\"user:\",user);\r\n        const data = {\r\n            username: user.username,\r\n            img: this.props.src,\r\n        }\r\n\r\n        //console.log(\"data\",data);\r\n        //console.log(\"stringified:\",JSON.stringify(data));\r\n\r\n        const opciones = {\r\n            method: \"POST\", \r\n            headers: {\r\n                \"Content-Type\": \"application/json\" \r\n            },\r\n            body: JSON.stringify(data),\r\n            }\r\n    \r\n        // Envía req\r\n        const response = await fetch(\"http://localhost:5000/updateImg\", opciones);\r\n        \r\n        //console.log(\"response: \",response);\r\n\r\n\r\n        //Close popUp\r\n        this.state.fun();\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={` ${this.state.isSelected ? 'popUp--image-is-selected' : 'popUp--image-is-unselected'} centered popUpCircularMask`}>\r\n                <img className = \"popUp-image\" src={this.props.src} onClick={this.setUserImg} alt=\"\"/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ImageSelectPopUp;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}